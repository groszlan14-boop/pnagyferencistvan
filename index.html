<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>P. Nagy Ferenc István</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0; font-family:Georgia, serif; color:#1f2f1f;
  background: linear-gradient(rgba(240,248,240,0.85), rgba(240,248,240,0.85)),
              url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e');
  background-size: cover; background-attachment: fixed;
}
header{text-align:center;padding:3rem 1rem;}
nav{display:flex;justify-content:center;gap:1rem;background:rgba(255,255,255,0.6);padding:1rem;}
nav button{background:#4b6f4b;color:white;border:none;padding:0.6rem 1.2rem;border-radius:18px;cursor:pointer;}
section{max-width:900px;margin:2rem auto;padding:2rem;background:rgba(255,255,255,0.8);border-radius:16px;display:none;}
section.active{display:block;}
audio,video{width:100%;margin-top:0.5rem;}
.create-btn{display:block;margin:1rem 0;background:#ff9900;color:white;border:none;padding:0.6rem 1.2rem;border-radius:12px;cursor:pointer;}
footer{text-align:center;padding:2rem;font-size:0.9rem;}
</style>
</head>
<body>

<header>
<h1>P. Nagy Ferenc István</h1>
<p>Versek – MP3 – MP4</p>
</header>

<nav>
<button onclick="show('poems')">Versek</button>
<button onclick="show('mp3')">MP3</button>
<button onclick="show('mp4')">MP4</button>
</nav>

<main>
<section id="poems" class="active">
<h2>Versek</h2>
<p>Vers 1</p>
<p>Vers 2</p>
<input type="file" id="poemsFile" style="display:none" onchange="handleFile(event,'poems')">
<button class="create-btn" onclick="document.getElementById('poemsFile').click()">Create / Új vers</button>
<div id="poemsOutput"></div>
</section>

<section id="mp3">
<h2>MP3 dalok</h2>
<audio controls src="mp3/dal1.mp3"></audio>
<audio controls src="mp3/dal2.mp3"></audio>
<input type="file" id="mp3File" style="display:none" onchange="handleFile(event,'mp3')">
<button class="create-btn" onclick="document.getElementById('mp3File').click()">Create / Új MP3</button>
<div id="mp3Output"></div>
</section>

<section id="mp4">
<h2>MP4 videók</h2>
<video controls src="mp4/video1.mp4"></video>
<video controls src="mp4/video2.mp4"></video>
<input type="file" id="mp4File" style="display:none" onchange="handleFile(event,'mp4')">
<button class="create-btn" onclick="document.getElementById('mp4File').click()">Create / Új MP4</button>
<div id="mp4Output"></div>
</section>
</main>

<footer>
Nincs kapcsolat • Nincs rendelés • Nincs fizetés
</footer>

<script>
function show(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// CSAK TE LÁTOD a CREATE gombokat
const isOwner = true;
if (!isOwner) {
  document.querySelectorAll('.create-btn').forEach(btn => btn.style.display = 'none');
}

// Fájl feltöltése böngészőn belül
function handleFile(event,type){
  const file = event.target.files[0];
  if(!file) return;
  const reader = new FileReader();
  
  reader.onload = function(e){
    let outputDiv = document.getElementById(type+'Output');
    if(type==='poems'){
      let blob = new Blob([file], {type:file.type});
      let url = URL.createObjectURL(blob);
      outputDiv.innerHTML = `<a href="${url}" target="_blank">${file.name}</a>`;
    } else if(type==='mp3'){
      let blob = new Blob([file], {type:file.type});
      let url = URL.createObjectURL(blob);
      outputDiv.innerHTML = `<audio controls src="${url}"></audio>`;
    } else if(type==='mp4'){
      let blob = new Blob([file], {type:file.type});
      let url = URL.createObjectURL(blob);
      outputDiv.innerHTML = `<video controls src="${url}"></video>`;
    }
  }

  reader.readAsArrayBuffer(file);
}
</script>

</body>
</html>
